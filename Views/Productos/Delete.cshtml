@model MiniMarketWebApp.Models.Producto
@{
    ViewData["Title"] = "Eliminar Producto";
}

<div class="container mt-4">
    <div class="card shadow-sm border-danger">
        <div class="card-header bg-danger text-white fw-bold">
            <i class="fas fa-trash-alt me-2"></i>Eliminar Producto
        </div>

        <div class="card-body">
            <h5 class="mb-3">¿Deseas eliminar este producto?</h5>

            <dl class="row">
                <dt class="col-sm-3">Nombre</dt>
                <dd class="col-sm-9">@Model.Nombre</dd>

                <dt class="col-sm-3">Categoría</dt>
                <dd class="col-sm-9">@Model.Categoria?.Nombre</dd>

                <dt class="col-sm-3">Precio</dt>
                <dd class="col-sm-9">S/ @Model.Precio.ToString("0.00")</dd>

                <dt class="col-sm-3">Stock</dt>
                <dd class="col-sm-9">@Model.Stock</dd>
            </dl>

            <button type="button" class="btn btn-danger"
                    onclick="confirmarEliminacion('@Url.Action("Delete", "Productos", new { id = Model.IdProducto })')">
                <i class="fas fa-trash"></i> Eliminar
            </button>

            <a asp-action="Index" class="btn btn-secondary ms-2">
                <i class="fas fa-arrow-left me-1"></i> Cancelar
            </a>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        function confirmarEliminacion(url) {
            Swal.fire({
                title: '¿Eliminar producto?',
                text: "Esta acción no se puede deshacer",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#d33',
                cancelButtonColor: '#6c757d',
                confirmButtonText: 'Sí, eliminar',
                cancelButtonText: 'Cancelar'
            }).then((result) => {
                if (result.isConfirmed) {
                    window.location.href = url;
                }
            });
        }
    </script>
}
